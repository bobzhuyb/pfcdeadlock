\secspacelarge
\section{Related Work}
\secspace

\para{RDMA in datacenters.} RDMA has been used for improving distributed application performance,
like in-memory key value store~\cite{mitchell13atc, farm, kalia14sigcomm}, 
Hadoop RPC~\cite{hadooprdma} and HBase~\cite{hbaserdma}.
It has been recently deployed inside modern datacenters~\cite{timely,dcqcn,rdmascale}, based on
RoCE (RDMA over Converged Ethernet), which relies on PFC creating a lossless Ethernet.
Recent works~\cite{timely,dcqcn} discuss the transport congestion control protocols. However,
how to prevent PFC deadlock from happening in the lossless Ethernet has been pointed out 
but not well addressed. In this paper, we aim to get deeper understanding on deadlock 
and possible mitigations.

\para{Deadlock-free routing.} To avoid deadlock in lossless networks, previous
work~\cite{tcpbolt,karol2003prevention,lash,sancho2004,wu2003fault} has focused
on deadlock-free routing: i.e. deadlock freedom regardless of traffic pattern
etc. It has also been proven that that eliminating cyclic buffer dependency is a
necessary and sufficient condition for deadlock-free
routing~\cite{deadlockfree}. However, deadlock-free routing is difficult to
implement in practice -- since it is challenging to eliminate cyclic buffer
dependency in face of arbitrary bugs and failures. Our work explores how we may
control the flows, packet formats and switch configurations to avoid deadlock
even if routing is not deadlock-free.






